/*! Ben's jQuery UI Extensions - v0.1 - 2013-05-06
* https://github.com/bseth99/jquery-ui-extensions
* Includes: jquery.ui.spinner.js, jquery.ui.combobox.js, jquery.ui.labeledslider.js, jquery.ui.slidespinner.js
* Copyright 2013 Ben Olson; Licensed MIT */
(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.widget("ui.spinner",{version:"@VERSION",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,alignment:"right",icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n",left:"ui-icon-triangle-1-w",right:"ui-icon-triangle-1-e"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,r){var i=n.attr(r);i!==undefined&&i.length&&(t[r]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(!t)return;if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()},"mousedown .ui-spinner-button":function(t){function r(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)});if(this._start(t)===!1)return;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(!e(t.currentTarget).hasClass("ui-state-active"))return;if(this._start(t)===!1)return!1;this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().addClass("ui-spinner-"+this.options.alignment).append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(e.height()*.5)&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:return this._repeat(null,1,t),!0;case r.DOWN:return this._repeat(null,-1,t),!0;case r.PAGE_UP:return this._repeat(null,n.page,t),!0;case r.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){switch(this.options.alignment){case"right":return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";case"left":return"<a class='ui-spinner-button ui-spinner-up ui-corner-tl'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-bl'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";case"vertical":return"<a class='ui-spinner-button ui-spinner-up ui-corner-top'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-bottom'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";case"horizontal":return"<a class='ui-spinner-button ui-spinner-up ui-corner-right'><span class='ui-icon "+this.options.icons.right+"'>&#9658;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-left'>"+"<span class='ui-icon "+this.options.icons.left+"'>&#9668;</span>"+"</a>"}},_start:function(e){return!this.spinning&&this._trigger("start",e)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter));if(!this.spinning||this._trigger("spin",t,{value:n})!==!1)this._value(n),this.counter++},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return this.options.min!==null&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;return t=r.min!==null?r.min:0,n=e-t,n=Math.round(n/r.step)*r.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),r.max!==null&&e>r.max?r.max:r.min!==null&&e<r.min?r.min:e},_stop:function(e){if(!this.spinning)return;clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e)},_setOption:function(e,t){if(e==="culture"||e==="numberFormat"){var n=this._parse(this.element.val());this.options[e]=t,this.element.val(this._format(n));return}(e==="max"||e==="min"||e==="step")&&typeof t=="string"&&(t=this._parse(t)),e==="icons"&&(this.options.alignment=="horizontal"?(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.left).addClass(t.left),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.right).addClass(t.right)):(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down))),this._super(e,t),e==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return typeof e=="string"&&e!==""&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),e===""||isNaN(e)?null:e},_format:function(e){return e===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;e!==""&&(n=this._parse(e),n!==null&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})})(jQuery),function(e,t){e.widget("ui.combobox",{widgetEventPrefix:"combobox",uiCombo:null,uiInput:null,_wasOpen:!1,_create:function(){var t=this,n=this.element.hide(),r,i;n.prop("selectedIndex",-1),r=this.uiInput=e("<input />").insertAfter(n).addClass("ui-widget ui-widget-content ui-corner-left ui-combobox-input"),i=this.uiCombo=r.wrap("<span>").parent().addClass("ui-combobox").insertAfter(n),r.autocomplete({delay:0,minLength:0,appendTo:i,source:e.proxy(this,"_linkSelectList")}),e("<button>").attr("tabIndex",-1).attr("type","button").insertAfter(r).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon ui-combobox-button"),r.data("ui-autocomplete")._renderItem=function(t,n){return e("<li>").append(e("<a>").html(n.label)).appendTo(t)},this._on(this._events)},_linkSelectList:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(t.term),"i");n(this.element.children("option").map(function(){var n=e(this).text();if(this.value&&(!t.term||r.test(n)))return{label:n.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+e.ui.autocomplete.escapeRegex(t.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:n,option:this}}))},_events:{"autocompletechange input":function(t,n){var r=e(t.currentTarget);if(!n.item){var i=new RegExp("^"+e.ui.autocomplete.escapeRegex(r.val())+"$","i"),s=!1;this.element.children("option").each(function(){if(this.value.match(i))return this.selected=s=!0,!1});if(!s)return r.val(""),this.element.prop("selectedIndex",-1),!1}this._trigger("change",t,{item:n.item?n.item.option:null})},"autocompleteselect input":function(e,t){t.item.option.selected=!0,this._trigger("select",e,{item:t.item.option})},"autocompleteopen input":function(e,t){this.uiCombo.children(".ui-autocomplete").outerWidth(this.uiCombo.outerWidth(!0))},"mousedown .ui-combobox-button":function(e){this._wasOpen=this.uiInput.autocomplete("widget").is(":visible")},"click .ui-combobox-button":function(e){this.uiInput.focus();if(this._wasOpen)return;this.uiInput.autocomplete("search","")}},value:function(e){var t=this.element,n=!1,r;if(!arguments.length)return r=t.children(":selected"),r.length>0?r.val():null;t.prop("selectedIndex",-1),t.children("option").each(function(){if(this.value==e)return this.selected=n=!0,!1}),n&&this.uiInput.val(t.children(":selected").text())},_destroy:function(){this.element.show(),this.uiCombo.replaceWith(this.element)},widget:function(){return this.uiCombo}})}(jQuery),function(e,t){e.widget("ui.labeledslider",e.ui.slider,{options:{tickInterval:0,tickLabels:null},uiSlider:null,tickInterval:0,_create:function(){this._detectOrientation(),this.uiSlider=this.element.wrap('<div class="ui-slider-wrapper ui-widget"></div>').before('<div class="ui-slider-labels">').parent().addClass(this.orientation).css("font-size",this.element.css("font-size")),this._super(),this.element.removeClass("ui-widget"),this._alignWithStep(),this.orientation=="horizontal"?this.uiSlider.width(this.element.width()):this.uiSlider.height(this.element.height()),this._drawLabels()},_drawLabels:function(){var t=this.options.tickLabels||{},n=this.uiSlider.children(".ui-slider-labels"),r=this.orientation=="horizontal"?"left":"bottom",i=this.options.min,s=this.options.max,o=this.tickInterval,u=(s-i)/o,a=0;n.html("");for(;a<=u;a++)e("<div>").addClass("ui-slider-label-ticks").css(r,Math.round(a/u*1e4)/100+"%").html((r=="left"?"<span></span><br/>":"<span></span> ")+(t[a*o+i]?t[a*o+i]:a*o+i)).appendTo(n)},_setOption:function(e,t){this._super(e,t);switch(e){case"tickInterval":case"tickLabels":case"min":case"max":case"step":this._alignWithStep(),this._drawLabels();break;case"orientation":this.element.removeClass("horizontal vertical").addClass(this.orientation),this._drawLabels()}},_alignWithStep:function(){this.options.tickInterval<this.options.step?this.tickInterval=this.options.step:this.tickInterval=this.options.tickInterval},_destroy:function(){this._super(),this.uiSlider.replaceWith(this.element)},widget:function(){return this.uiSlider}})}(jQuery),function(e){e.widget("ui.slidespinner",e.ui.spinner,{widgetEventPrefix:"slidespinner",options:{alignment:"vertical",min:0,max:100},_create:function(){this.options.min=this.options.min||0,this.options.max=this.options.max||100,this.options.alignment!="vertical"&&this.options.alignment!="horizontal"&&(this.options.alignment="vertical"),this._super(),this._value(this.element.val()),this.uiSlider.slider("value",this.value()|0)},_draw:function(){var t=this,n=this.options;this._super(),this.uiWrapper=this.uiSpinner.wrap("<span>").parent().addClass("ui-slidespinner"),this.uiSlider=e("<div>").appendTo(this.uiWrapper).slider({orientation:n.alignment,min:n.min,max:n.max,slide:function(e,n){t._value(n.value)}}),n.alignment=="vertical"?this.uiSlider.position({my:"left+5 top+5",at:"right top",of:this.uiSpinner}).css("height",this.uiSpinner.outerHeight(!0)-10):this.uiSlider.position({my:"left+5 top+5",at:"left bottom",of:this.uiSpinner}).css("width",this.uiSpinner.outerWidth(!0)-10)},_spin:function(e,t){this._super(e,t),this.uiSlider.slider("value",this.value()|0)},_stop:function(e){e.type=="keyup"&&this.uiSlider.slider("value",this.value()|0),this._super(e)},_destroy:function(){this.uiSlider.remove(),this.uiSpinner.unwrap(),this._super()}})}(jQuery);