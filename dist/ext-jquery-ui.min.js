/*! Ben's jQuery UI Extensions - v1.0.2 - 2013-07-11
* https://github.com/bseth99/jquery-ui-extensions
* Includes: jquery.ui.spinner.js, jquery.ui.combobox.js, jquery.ui.labeledslider.js, jquery.ui.scrollable.js, jquery.ui.slidespinner.js, jquery.ui.waitbutton.js
* Copyright 2013 Ben Olson; Licensed MIT */
(function(t){function i(t){return function(){var i=this.element.val();t.apply(this,arguments),this._refresh(),i!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.0.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,alignment:"right",icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n",left:"ui-icon-triangle-1-w",right:"ui-icon-triangle-1-e"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i={},e=this.element;return t.each(["min","max","step"],function(t,n){var s=e.attr(n);void 0!==s&&s.length&&(i[n]=s)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,i){if(i){if(!this.spinning&&!this._start(t))return!1;this._spin((i>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(i){function e(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),i.preventDefault(),e.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,e.call(this)}),this._start(i)!==!1&&this._repeat(null,t(i.currentTarget).hasClass("ui-spinner-up")?1:-1,i)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(i){return t(i.currentTarget).hasClass("ui-state-active")?this._start(i)===!1?!1:(this._repeat(null,t(i.currentTarget).hasClass("ui-spinner-up")?1:-1,i),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().addClass("ui-spinner-"+this.options.alignment).append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(i){var e=this.options,n=t.ui.keyCode;switch(i.keyCode){case n.UP:return this._repeat(null,1,i),!0;case n.DOWN:return this._repeat(null,-1,i),!0;case n.PAGE_UP:return this._repeat(null,e.page,i),!0;case n.PAGE_DOWN:return this._repeat(null,-e.page,i),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){switch(this.options.alignment){case"right":return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";case"left":return"<a class='ui-spinner-button ui-spinner-up ui-corner-tl'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-bl'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";case"vertical":return"<a class='ui-spinner-button ui-spinner-up ui-corner-top'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-bottom'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";case"horizontal":return"<a class='ui-spinner-button ui-spinner-up ui-corner-right'><span class='ui-icon "+this.options.icons.right+"'>&#9658;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-left'>"+"<span class='ui-icon "+this.options.icons.left+"'>&#9668;</span>"+"</a>"}},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,i,e){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,i,e)},t),this._spin(i*this.options.step,e)},_spin:function(t,i){var e=this.value()||0;this.counter||(this.counter=1),e=this._adjustValue(e+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",i,{value:e})===!1||(this._value(e),this.counter++)},_increment:function(i){var e=this.options.incremental;return e?t.isFunction(e)?e(i):Math.floor(i*i*i/5e4-i*i/500+17*i/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var i=""+t,e=i.indexOf(".");return-1===e?0:i.length-e-1},_adjustValue:function(t){var i,e,n=this.options;return i=null!==n.min?n.min:0,e=t-i,e=Math.round(e/n.step)*n.step,t=i+e,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,i){if("culture"===t||"numberFormat"===t){var e=this._parse(this.element.val());return this.options[t]=i,this.element.val(this._format(e)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof i&&(i=this._parse(i)),"icons"===t&&("horizontal"==this.options.alignment?(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.left).addClass(i.left),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.right).addClass(i.right)):(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(i.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(i.down))),this._super(t,i),"disabled"===t&&(this.widget().toggleClass("ui-state-disabled",!!i),this.element.prop("disabled",!!i),this.buttons.button(i?"disable":"enable"))},_setOptions:i(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,i){var e;""!==t&&(e=this._parse(t),null!==e&&(i||(e=this._adjustValue(e)),t=this._format(e))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:i(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:i(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:i(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:i(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(i(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery),function(t){t.widget("ui.combobox",{version:"1.0.2",widgetEventPrefix:"combobox",uiCombo:null,uiInput:null,_wasOpen:!1,_create:function(){var i,e,n=this.element.hide();n.prop("selectedIndex",-1),i=this.uiInput=t("<input />").insertAfter(n).addClass("ui-widget ui-widget-content ui-corner-left ui-combobox-input"),e=this.uiCombo=i.wrap("<span>").parent().addClass("ui-combobox").insertAfter(n),i.autocomplete({delay:0,minLength:0,appendTo:e,source:t.proxy(this,"_linkSelectList")}),t("<button>").attr("tabIndex",-1).attr("type","button").insertAfter(i).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon ui-combobox-button"),i.data("ui-autocomplete")._renderItem=function(i,e){return t("<li>").append(t("<a>").html(e.label)).appendTo(i)},this._on(this._events)},_linkSelectList:function(i,e){var n=RegExp(t.ui.autocomplete.escapeRegex(i.term),"i");e(this.element.children("option").map(function(){var e=t(this).text();return!this.value||i.term&&!n.test(e)?undefined:{label:e.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.ui.autocomplete.escapeRegex(i.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:e,option:this}}))},_events:{"autocompletechange input":function(i,e){var n=t(i.currentTarget);if(!e.item){var s=RegExp("^"+t.ui.autocomplete.escapeRegex(n.val())+"$","i"),o=!1;if(this.element.children("option").each(function(){return this.value.match(s)?(this.selected=o=!0,!1):undefined}),!o)return n.val(""),this.element.prop("selectedIndex",-1),!1}this._trigger("change",i,{item:e.item?e.item.option:null})},"autocompleteselect input":function(t,i){i.item.option.selected=!0,this._trigger("select",t,{item:i.item.option})},"autocompleteopen input":function(){this.uiCombo.children(".ui-autocomplete").outerWidth(this.uiCombo.outerWidth(!0))},"mousedown .ui-combobox-button":function(){this._wasOpen=this.uiInput.autocomplete("widget").is(":visible")},"click .ui-combobox-button":function(){this.uiInput.focus(),this._wasOpen||this.uiInput.autocomplete("search","")}},value:function(t){var i,e=this.element,n=!1;return arguments.length?(e.prop("selectedIndex",-1),e.children("option").each(function(){return this.value==t?(this.selected=n=!0,!1):undefined}),n&&this.uiInput.val(e.children(":selected").text()),undefined):(i=e.children(":selected"),i.length>0?i.val():null)},_destroy:function(){this.element.show(),this.uiCombo.replaceWith(this.element)},widget:function(){return this.uiCombo}})}(jQuery),function(t){t.widget("ui.labeledslider",t.ui.slider,{version:"1.0.2",options:{tickInterval:0,tickLabels:null},uiSlider:null,tickInterval:0,_create:function(){this._detectOrientation(),this.uiSlider=this.element.wrap('<div class="ui-slider-wrapper ui-widget"></div>').before('<div class="ui-slider-labels">').parent().addClass(this.orientation).css("font-size",this.element.css("font-size")),this._super(),this.element.removeClass("ui-widget"),this._alignWithStep(),"horizontal"==this.orientation?this.uiSlider.width(this.element.width()):this.uiSlider.height(this.element.height()),this._drawLabels()},_drawLabels:function(){var i=this.options.tickLabels||{},e=this.uiSlider.children(".ui-slider-labels"),n="horizontal"==this.orientation?"left":"bottom",s=this.options.min,o=this.options.max,r=this.tickInterval,l=(o-s)/r,a=0;for(e.html("");l>=a;a++)t("<div>").addClass("ui-slider-label-ticks").css(n,Math.round(1e4*(a/l))/100+"%").html("<span>"+(i[a*r+s]?i[a*r+s]:a*r+s)+"</span>").appendTo(e)},_setOption:function(t,i){switch(this._super(t,i),t){case"tickInterval":case"tickLabels":case"min":case"max":case"step":this._alignWithStep(),this._drawLabels();break;case"orientation":this.element.removeClass("horizontal vertical").addClass(this.orientation),this._drawLabels()}},_alignWithStep:function(){this.tickInterval=this.options.tickInterval<this.options.step?this.options.step:this.options.tickInterval},_destroy:function(){this._super(),this.uiSlider.replaceWith(this.element)},widget:function(){return this.uiSlider}})}(jQuery),function(t){function i(t,i,e){return[parseFloat(t[0])*(u.test(t[0])?i/100:1),parseFloat(t[1])*(u.test(t[1])?e/100:1)]}function e(i){var e=null;i.onscroll=function(n){e||(e=setTimeout(function(){t.each(i.watch,function(){this._checkPositioning(n)}),e=null},300))},i.element.on("scroll",i.onscroll)}var n=/^(?:html)$/i,s=(Math.max,Math.abs,Math.round),o=/left|center|right/,r=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,u=/%$/,h={scrollers:[],getScroller:function(t){for(var i,e=0;this.scrollers.length>e;e++)if(this.scrollers[e].element[0]===t[0]){i=this.scrollers[e];break}return i},attach:function(t){var i;(i=this.getScroller(t.container))||(i={element:t.container,watch:[],onscroll:null},this.scrollers.push(i),e(i)),i.watch.push(t)},detach:function(t){var i;if(i=this.getScroller(t.container)){for(var e=0;i.watch.length>e;e++)if(i.watch[e]===t){i.watch.splice(e,1);break}0==i.watch.length&&i.element.off("scroll",i.onscroll)}}};t.widget("ui.scrollable",{widgetEventPrefix:"scroll",options:{"in":null,out:null,direction:"both",offset:null},inView:!1,_create:function(){this.options.offset=this.options.offset||{top:0,left:0}},_init:function(){this.container&&h.detach(this),this.container=this.element.closest(":scrollable"+("both"==this.direction?"":"("+this.direction+")")),n.test(this.container[0].nodeName)&&(this.container=t(window)),h.attach(this),this._checkPositioning()},_destroy:function(){h.detach(this),this.container=null},_checkPositioning:function(t){var i=this.inView,e=this.position();this.inView=e.inside,this.inView?i||this._trigger("in",t,{container:this.container,element:this.element,position:e}):i&&this._trigger("out",t,{container:this.container,element:this.element,position:e})},position:function(){var t,e={top:this.container.scrollTop(),left:this.container.scrollLeft()},n=this.element.position(),s=[this.options.offset.left,this.options.offset.top],o=this.container.width(),r=this.container.height();return s=i(s,o,r),e.right=e.left+o-s[0]/2,e.bottom=e.top+r-s[1]/2,e.left+=s[0]/2,e.top+=s[1]/2,n.right=n.left+this.element.width(),n.bottom=n.top+this.element.height(),t={container:e,element:n,inside:!1,outside:!1,left:n.right<e.left,right:n.left>e.right,top:n.bottom<e.top,bottom:n.top>e.bottom},t.inside=!(t.left||t.right||t.top||t.bottom),t.outside=!t.inside,t},"goto":function(e){var n,u,h,e=e||{},c={},p=this.position(),m=this.container.width(),d=this.container.height(),f=this.element.outerWidth(),g=this.element.outerHeight(),v=this.options.direction,_=this.container[0]===window?t("html"):this.container;!e.onlyOutside||e.onlyOutside&&!this.inView?(t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):r.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=r.test(n[1])?n[1]:"center",t=l.exec(n[0]),i=l.exec(n[1]),c[this]=[t?t[0]:0,i?i[0]:0],e[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),"right"===e.at[0]?p.element.left-=m:"center"===e.at[0]&&(p.element.left-=m/2),"bottom"===e.at[1]?p.element.top-=d:"center"===e.at[1]&&(p.element.top-=d/2),u=i(c.at,m,d),p.element.left-=u[0],p.element.top-=u[1],h=i(c.my,f,g),"right"===e.my[0]?p.element.left+=f:"center"===e.my[0]&&(p.element.left+=f/2),"bottom"===e.my[1]?p.element.top+=g:"center"===e.my[1]&&(p.element.top+=g/2),p.element.left-=h[0],p.element.top-=h[1],n={},("both"==v||"vertical"==v)&&(n.scrollLeft=s(p.element.left)+"px"),("both"==v||"horizontal"==v)&&(n.scrollTop=s(p.element.top)+"px"),_.animate(n,{duration:e.duration||"slow",easing:e.easing||"swing",complete:e.complete})):t.isFunction(e.complete)&&e.complete.call(this.element)}}),t.expr[":"].scrollable=t.expr.createPseudo(function(i){var i=i&&"undefined"!=i?i:"both";return function(e){var s=t(e),o=n.test(e.nodeName),r=s.css(["overflow-x","overflow-y"]),l={x:"auto"==r["overflow-x"]||"scroll"==r["overflow-x"],y:"auto"==r["overflow-y"]||"scroll"==r["overflow-y"]},a=!1;return o||l.x||l.y?(("both"==i||"vertical"==i)&&(a=a||(l.x||o)&&e.scrollWidth>e.clientWidth),("both"==i||"horizontal"==i)&&(a=a||(l.y||o)&&e.scrollHeight>e.clientHeight),a):!1}}),t.propHooks.scrollTop=t.propHooks.scrollLeft={get:function(t,i){var e=null;return("HTML"===t.tagName||"BODY"===t.tagName)&&("scrollLeft"===i?e=window.scrollX:"scrollTop"===i&&(e=window.scrollY)),null==e&&(e=t[i]),e}},t.Tween.propHooks.scrollTop=t.Tween.propHooks.scrollLeft={get:function(i){return t.propHooks.scrollTop.get(i.elem,i.prop)},set:function(t){"HTML"===t.elem.tagName||"BODY"===t.elem.tagName?(t.options.bodyScrollLeft=t.options.bodyScrollLeft||window.scrollX,t.options.bodyScrollTop=t.options.bodyScrollTop||window.scrollY,"scrollLeft"===t.prop?t.options.bodyScrollLeft=Math.round(t.now):"scrollTop"===t.prop&&(t.options.bodyScrollTop=Math.round(t.now)),window.scrollTo(t.options.bodyScrollLeft,t.options.bodyScrollTop)):t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}}}(jQuery),function(t){t.widget("ui.slidespinner",t.ui.spinner,{version:"1.0.2",widgetEventPrefix:"slidespinner",options:{alignment:"vertical",min:0,max:100},_create:function(){this.options.min=this.options.min||0,this.options.max=this.options.max||100,"vertical"!=this.options.alignment&&"horizontal"!=this.options.alignment&&(this.options.alignment="vertical"),this._super(),this._value(this.element.val()),this.uiSlider.slider("value",0|this.value())},_draw:function(){var i=this,e=this.options;this._super(),this.uiWrapper=this.uiSpinner.wrap("<span>").parent().addClass("ui-slidespinner"),this.uiSlider=t("<div>").appendTo(this.uiWrapper).slider({orientation:e.alignment,min:e.min,max:e.max,slide:function(t,e){i._value(e.value)}}),"vertical"==e.alignment?this.uiSlider.position({my:"left+5 top+5",at:"right top",of:this.uiSpinner}).css("height",this.uiSpinner.outerHeight(!0)-10):this.uiSlider.position({my:"left+5 top+5",at:"left bottom",of:this.uiSpinner}).css("width",this.uiSpinner.outerWidth(!0)-10)},_spin:function(t,i){this._super(t,i),this.uiSlider.slider("value",0|this.value())},_stop:function(t){"keyup"==t.type&&this.uiSlider.slider("value",0|this.value()),this._super(t)},_destroy:function(){this.uiSlider.remove(),this.uiSpinner.unwrap(),this._super()}})}(jQuery),function(t){t.widget("ui.waitbutton",t.ui.button,{version:"1.0.2",widgetEventPrefix:"button",options:{waitLabel:null,waitIcon:"ui-icon-waiting"},_saved:null,_create:function(){this._super(),this.element.addClass("ui-wait-button"),this._saved={},this._saveOptions()},_init:function(){this._super(),this.disable(),this._toggleWaitState(),this._initWaitClick()},_initWaitClick:function(){this.element.off("click"),this.element.one("click",t.proxy(this,"_toggleWaitState"))},_toggleWaitState:function(){var i;this.options.disabled?this._setOptions({disabled:!1,label:this._saved.label,icons:{primary:this._saved.icon}}):(this._saveOptions(),this._setOptions({disabled:!0,label:this.options.waitLabel||this.options.label,icons:{primary:this.options.waitIcon}}),i=arguments[0]||new jQuery.Event("click",{target:this.element}),i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),this._trigger("waiting",i,{done:t.proxy(this,"_waitComplete")}))},_waitComplete:function(){var t=arguments[0]&&"string"==typeof arguments[0]?arguments[0]:null,i=t?arguments[1]:arguments[0];i===undefined&&(i=!0),this._toggleWaitState(),i?this._initWaitClick():this.disable(),t&&this._setOption("label",t)},_saveOptions:function(){this._saved.icon=this.options.icons.primary,this._saved.label=this.options.label}})}(jQuery);